const http = require('http');
const fs = require('fs');
const path = require('path');

const PORT = 5500;

const server = http.createServer((req, res) => {
    // define path to the evil.html file
    const filePath = path.join(__dirname, 'evil.html');

    // check if the requested URL is for the evil.html file or a valid file
    if (req.url !== '/evil.html') {
        // Serve evil.html for any unmatched routes
        res.writeHead(404, { 'Content-Type': 'text/html' });
        fs.createReadStream(filePath).pipe(res);
    } else {
        // serve evil.html normally if explicitly requested
        res.writeHead(200, { 'Content-Type': 'text/html' });
        fs.createReadStream(filePath).pipe(res);
    }
});

server.listen(PORT, () => {
    console.log(`Server is running on http://localhost:${PORT}`);
});
