<!-- http://localhost/codtech/jsi/search.html -->
<!DOCTYPE html>
<html>
    <head>
        <title>Javascript Injection</title>
        <script>
document.cookie = "username=me@me.com"
document.cookie = "password=super_safe_password"
if (document.readyState == 'loading') {
	document.addEventListener('DOMContentLoaded', ready)
} else {
	ready()
}

function ready() {
	var query = new URL(window.location).searchParams.get('query')
	document.getElementById('query-input').value = query
	document.getElementById('query-output').innerHTML= query  // UNSAFE
    // document.getElementById('query-output').innerText= query // SAFE- DOESNT EXECUTE INJECTED CODE IN SEARCH BOX
    
}

</script>
    </head>
    <body>
      <h1 class="search-form-header">Post-Login</h1>
      <form class="search-form" autocomplete="off">
          <input class="search-input" id="query-input" type="text" name="query" />
          <button class="search-button" type="submit" role="button">Search</button>
      </form>
      <h3 class="search-query">You Queried: <span id="query-output" class="query"></span></h3>
    </body>
</html>